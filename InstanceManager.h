/*!
 @header InstanceManager.h
 @project Pusher
 @author Alexander Maksimenko
 @copyright Copyright (c) 2009 Ripdev. All rights reserved.
 */

@class MainWindowController, FirmwareManager, BuilderSettings, Firmware, WizardStepController;

@interface InstanceManager : NSObject

+(void) init;
+(void) unInit;

+(FirmwareManager*) firmwareManager;

+(MainWindowController*) mainController;
+(void) setMainController:(MainWindowController*) controller;

+(BOOL) isUILocked;
+(void) setUILocked:(BOOL) value;

+(void) setPushState:(PushButtonState) state;
+(void) setText:(NSString*) text;
+(void) setButtonText:(NSString*) text;
+(void) enableSun:(BOOL) value;

+(WizardStepController*) stepController;
+(void) setStepController:(WizardStepController*) stepController;

+(Platform) platform;
+(void) setPlatform:(Platform) value;

+(Firmware*) firmware;
+(void) setFirmware:(Firmware*) value;

+(NSString*) ramdiskPath;
+(void) setRamdiskPath:(NSString*) value;

+(NSArray*) searchFilesWithContentType:(NSString*) contentType name:(NSString*) name size:(int) size;
+(void) deleteTempFiles;
+(BOOL) checkFreeSpace:(unsigned long long) bytes atPath:(NSString*) path;

+(void) runLoop;
+(BOOL) checkURL:(NSURL*) url;

@end

@interface InstanceManager (IPhoneUSB)

+(void) usbDelegateAdd:(id) delegate;
+(void) usbDelegateRemove:(id) delegate;
+(void) usbSendCommand:(NSString*) cmd;
+(void) usbUploadFile:(NSString*) file;

@end

@interface InstanceManager (StringAndMessage)

+(void) stopMessage;
+(void) showBubble:(NSAttributedString*) text onSide:(MAWindowPosition) side ofView:(NSView*) view withTimeout:(int) seconds andDismissMode:(DismissMode) dismissMode;
+(void) showError:(NSAttributedString*) text withTimeout:(int) seconds buttons:(NSArray*) buttons;
+(void) showMessage:(NSAttributedString*) text withTimeout:(int) seconds buttons:(NSArray*) buttons;

@end
