/*!
 @source ArrayAdditions.m
 @project Pusher
 @author Alexander Maksimenko
 @copyright Copyright (c) 2009 Ripdev. All rights reserved.
 */

#import "ArrayAdditions.h"

@implementation NSArray (Additions)

-(NSArray*) objectsWithProperty:(SEL) selector equalTo:(id) value
{
    NSMutableArray* objects = [[[NSMutableArray alloc] init] autorelease];
    
    NSEnumerator* enumerator = [self objectEnumerator];
    id object;
    while(object = [enumerator nextObject])
        if([object respondsToSelector:selector] && [object performSelector:selector] == value)
            [objects addObject:object];
                
    return objects;
}

-(NSArray*) objectsWithProperty:(SEL) selector equalToString:(NSString*) value
{
    NSMutableArray* objects = [[[NSMutableArray alloc] init] autorelease];
    
    NSEnumerator* enumerator = [self objectEnumerator];
    id object;
    while(object = [enumerator nextObject])
        if([object respondsToSelector:selector] && [value isEqualToString:[object performSelector:selector]])
            [objects addObject:object];
                
    return objects;}

@end
